历时十八年，从研发龙芯一号到三号，从产品到产业化，一路披荆斩棘
把“不可能”变为现实的龙芯团队(科技视点·“关键核心技术攻关记”之五)

　　芯片是信息产业的灵魂，通用CPU（中央处理器）可以说是芯片中的“珠峰”。自主研发CPU，难度很大。
　　在这个故事的起点，2001年8月的一个清晨，当龙芯第一代产品龙芯1号成功启动操作系统时，龙芯CPU首席科学家胡伟武和团队在中科院计算所实验室大声欢呼。
　　一年后，2002年8月，我国首款通用CPU龙芯1号流片（检验测试芯片是否符合设计性能和功能的过程）成功，终结了中国计算机产业“无芯”的历史。
　　2016年10月，龙芯第三代处理器3A3000研制成功后，胡伟武给自己放了一天假。在尝尽了自主研发芯片的艰辛以后，面对来之不易的成果，胡伟武却显得很平静。
　　如今，最初的激情和豪迈逐渐消退，但胡伟武愈发感到，龙芯距离掌握信息产业核心技术更近了。
　　“不掌握核心技术，就成了卖盒子，打开里面都一样”
　　胡伟武把3A3000看得极重，认为它是我国自主研制CPU的里程碑，代表我国自主研发的芯片跨过了国际通用处理器的第一道门槛。
　　自主研制芯片，胡伟武设想过种种困难，然而道路之曲折、过程之艰难，仍然大大超出他的预料。
　　2002年，龙芯1号诞生，可就在流片截止日期的前几天，测试组发现处理器的1万多个触发器的扫描链无法正常工作。如果不能及时修复，只能放弃流片。这意味着此前的努力可能白费。
　　别无选择，团队决定手工修改版图，连续工作了两天两夜，才把触发器的扫描链连上。
　　设计第二代产品龙芯2号时，一个电源的规划问题成为困扰科研人员的一块心病，团队熬夜做物理设计。“那时我们一点吃饭的胃口都没有，只在晚上胡乱吃几口。直到布完线、解决完问题后，我和两位团队成员到一家粥铺吃晚饭，才觉得饿坏了，那顿饭竟然吃空了17个盘子，撑得腰都弯不下来。”胡伟武说。
　　龙芯3号的研制过程更是一波三折。按设计，龙芯3B型号芯片的一些性能可以达到世界领先水平，但2010年11月测试时，竟然连操作系统都启动不了。原来，芯片可测性设计部分有逻辑错误，同样问题也在同期其他芯片出现。这一失误，给龙芯带来重大打击。
　　科研团队重新梳理流程，一再改版，调试顺利了，又出现压力测试下死机现象，之后又是死锁问题。经过一年多反复修改，芯片才达到稳定状态。
　　胡伟武说，龙芯的研制过程如此坎坷，除了研发流程需要完善外，根本原因在于团队坚持自己开发核心模块，挑战的是难中之难的问题。
　　“这些问题，如果是‘攒’芯片，一般不会碰到，与他人合作更不会遇到，我们这样做，是因为用别人的东西时吃过亏。”胡伟武说，“我国信息产业企业成千上万，不掌握核心技术，就成了卖盒子，打开里面都一样。”
　　历经三轮的迭代试错，龙芯不断进化。目前，基于28纳米工艺，龙芯3号新一代产品3A4000的研制工作已经展开，预计比上一代产品性能提高一倍，有望达到国际主流中高端芯片水平。
　　“CPU必须让人用起来，否则获再多的奖也没用”
　　龙芯18年研制，主要分为两个阶段。2001年—2010年，中科院计算所课题组所做的努力是技术积累阶段；2010年，成立龙芯中科技术有限公司（以下简称龙芯中科），从研发走向产业化。胡伟武的身份转变为龙芯中科总裁。
　　“CPU必须让人用起来，否则获再多的奖，拿再多的荣誉也没用。”胡伟武说。
　　可组织上转型容易，思想上转型却很艰难。龙芯研发为此就栽了跟头。
　　2009年研制的3A1000是我国首个四核CPU芯片。龙芯团队由此掌握了多核CPU研发的一系列关键技术，按理说下一款产品应该致力于优化产品性能。然而，当时团队还偏重于追随国际学术界热点，过度追求多核以及浮点峰值性能的单一指标，忽视了芯片的通用处理能力。
　　谈及彼时情形，胡伟武反思，龙芯中科定方向时就出现了巨大偏差。龙芯虽然在学术上取得了成功，应用上却与主流产品差距越拉越大。 
　　从课题组转型为公司的头三年，龙芯中科差点连工资都发不出。
　　痛定思痛。2013年5月，龙芯中科结合市场需求，及时调整芯片研发路线：龙芯3号系列多核CPU不追求核的个数，而是大幅度提高单核性能；龙芯2号系列芯片不再追求“大而全”，而是根据用户需求定义芯片；龙芯1号系列结合航空航天、石油等行业特点研制专用芯片，快速打开市场。
　　种瓜得瓜，种豆得豆。2014年龙芯中科销售收入同比增长51%，2015年又增长57%，为企业持续发展奠定了基础。瞄准存储安全需求，前不久，龙芯中科与合作伙伴发布了首款全国产固态硬盘控制芯片系列产品，有望打破国外企业垄断，进入这个千亿级美元的存储市场。
　　而今，龙芯中科通过市场养活自己、支撑研发。“CPU在产业化实践中演进发展，这是我们的教训，也是我们宝贵的财富。”胡伟武说。
　　“在别人都不信的情况下，做给他看”
　　2001年，龙芯团队开始做CPU时，一些国外企业不相信中国人能做出来。面对质疑，胡伟武常说的一句话是：“在别人都不信的情况下，做给他看。”
　　10多年后，龙芯的进步赢得了业界尊重。国际著名半导体厂家意法半导体公司购买了龙芯某型号产品的生产和销售授权，开创了我国计算机核心技术对外授权的先例。
　　就在此时，国外一些企业找上门来，希望通过给源代码、设计流程的方式合作开发芯片。然而龙芯自主研发的决心从未动摇。
　　“如果没有自主研发芯片的实践，我国就难以消化吸收购买来的技术，即便可以引进、购买升级产品，却形不成自己的创新能力，到头来还是受制于人。”胡伟武说。
　　2006年，当龙芯团队尝试推广龙芯CPU应用时，很少人相信龙芯能用起来。业界普遍认为，自主芯片逊在性能，输在生态。主流生态平台太过强势，另建生态无异于痴人说梦。
　　“我们还是老套路，做给他看。”胡伟武说。经过多年探索，围绕龙芯形成了包括近千家企业的产业链，基于龙芯的信息产业体系慢慢形成。
　　目前，已有数万人在龙芯的软硬件生态上做开发，虽然相比大平台数百万级别的开发者差距还很大，但这说明打造一套新的生态平台并非完全没有机会。如今，龙芯不仅应用于政企办公设备，在工业控制、石油勘探等民用领域也能见到它的身影。
　　把他人眼中的不可能变为现实，背后是龙芯团队超出常人的付出。设计的芯片需要在服务器上“跑”一段时间，为了提高工作效率，多年来，团队在晚上10点开例会安排任务，让芯片在晚上“跑”。黄令仪是龙芯团队的一位老研究员，80多岁依旧天天在屏幕前拖着鼠标查版图。
　　2010年，龙芯团队从课题组转型成立公司时，绝大多数技术骨干放弃事业单位编制，从计算所辞职。龙芯中科薪酬低于同行业水平，不少骨干都曾接到过百万年薪的工作邀请，但团队核心骨干基本稳定，把人生美好的青春献给了龙芯的研发征程。
　　“龙芯18年来一直在补课，预计几年后，课能基本补上来”
　　“时间是创新不可缺少的变量。”胡伟武告诉记者，“CPU等核心技术产品需要在试错中发展，这就像爬楼梯，要一步一步地走上去。”
　　他说，同样是做芯片，别人已经在楼上，龙芯18年来一直在补课，预计几年后，这个课能基本补上来。
　　根据规划，龙芯“补完课”后，将踏上一个新台阶，未来逐步走向开放市场，在一些领域，将与国际主流产品同台竞技。
　　“任何一个技术或产品本身不是目的，主导产业体系才是目标。”胡伟武说，此前国家支持了龙芯的研发及初期产业化，“扶上马”后又送了一程，今后龙芯必须靠市场来检验。
　　龙芯中科走上正轨后，胡伟武把更多精力放在公司管理上，但他十分怀念写代码的岁月。“回忆起来，在机房里心无旁骛地写代码真是莫大的幸福，有无比的成就感。但我不能成为龙芯发展的瓶颈，应该充分信任年轻人，让他们接棒。”胡伟武说。令他感到欣慰的是，龙芯的年轻人快速成长，从第三代产品开始，很多重要工作的负责人已经是团队的年轻技术骨干。
　　回首过往，胡伟武忘不了龙芯成长路上的“贵人”。他告诉记者，2010年，在北京市、中关村管委会等支持下，龙芯正式开启了产品的产业化进程。2013年初，在龙芯最困难的时候，中科院计算所所长孙凝晖在所里资金困难的情况下，拿出500万元支持龙芯做前期研发。虽然与上亿元的经费相比，500万元只是杯水车薪，但得到“娘家”的支持，胡伟武感觉非常温暖。
　　更早的时候，原计算所所长李国杰院士曾在一次所里中层干部会上表示：计算所砸锅卖铁也要支持龙芯，龙芯团队不能以任何经费的理由放缓龙芯3号的研制。为此，他在所内设立了一个经费没有封顶的课题，2010年龙芯首笔课题经费到账时，龙芯课题组已经预支了计算所七八千万元。
　　“你瞧，龙芯‘长征’路上哪里只有我们团队？”胡伟武笑着对记者说。
